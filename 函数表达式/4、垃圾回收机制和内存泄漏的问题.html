<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        //js垃圾回收机制
            //标记清除
            //当变量进入环境的时候（例如在函数中声明一个变量)，就将这个变量标记为进入环境，理论上来讲，永远没法清楚进入环境的变量所占的内存；因为执行流运行的是你，可能会用到这个；但是浏览器中垃圾收集器在运行的时候，会给所有的变量添加一个标记，然后他会去掉环境中变量以及被环境变量中饮用的变量，而此后被标记的变量就是准备删除
            //引用计数
            //当我们声明了一个变量，然后给赋予了一个引用类型的值，这个变量的饮用次数就是1；当这个值又赋予给另外一个变量的是你，那么这个值的的饮用次数就+1，以此类推，如果引用就+1，如果引用这个值的变量，引用了另外一个，那么这个值的饮用次数就-1，一直到0的时候，这个值所占的内存就会被回收；
            //坏处：相互引用的时候，永远不可能为0，永远不能销毁
            // var obj = {};
            // var obj2 = {};
            // obj1 = obj2;
            // obj22 = obj1;
            //解决方式，使用完后，手动清空 obj=null; obj2 =null;

        //js中内存泄漏的问题
        //1)如果引用计数为0，不能被回收，哪就是内存泄漏
        //2)闭包还会引起内存泄漏
        //3)不清除定时器也可能会引起内存泄漏
        //4)忽略掉的全局变量

    </script>
</body>
</html>